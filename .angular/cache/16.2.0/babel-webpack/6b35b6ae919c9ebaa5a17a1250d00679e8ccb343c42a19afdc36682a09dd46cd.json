{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lerth/Documents/Lifestyle/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MappingPage } from '../mapping/mapping.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nexport let ShowDiaryPage = /*#__PURE__*/(() => {\n  var _class;\n  class ShowDiaryPage {\n    constructor(navParams, modalController) {\n      this.navParams = navParams;\n      this.modalController = modalController;\n      this.month = null;\n      this.date = '';\n      this.mood = null;\n      this.diary = '';\n      this.place = '';\n      this.lat = null;\n      this.long = null;\n      this.img = [];\n      // For EDIT/SAVE button\n      this.edit = true;\n      this.editButton = 'EDIT';\n    }\n    ngOnInit() {\n      // Get data from Diary Page\n      this.month = this.navParams.get('month');\n      this.date = this.navParams.get('date');\n      this.mood = this.navParams.get('mood');\n      this.diary = this.navParams.get('diary');\n      this.place = this.navParams.get('place');\n      this.lat = this.navParams.get('lat');\n      this.long = this.navParams.get('long');\n      this.img = this.navParams.get('img');\n      if (this.place == \"\") {\n        this.place = \"No place.\";\n      }\n      // Display images\n      let preview = document.getElementById(\"preview\");\n      for (let i = 0; i < this.img.length; i++) {\n        let listItem = document.createElement(\"li\");\n        listItem.innerHTML = \"<img src = '\" + this.img[i] + \"' />\";\n        preview.append(listItem);\n      }\n    }\n    // Save edited diary and close Show Diary Page\n    saveEditedDiary() {\n      if (this.editButton == \"EDIT\") {\n        this.modalController.dismiss({\n          diary: this.diary\n        });\n      } else {\n        this.modalController.dismiss();\n      }\n    }\n    // Delete diary\n    deleteDiary() {\n      if (confirm(\"Delete this diary?\")) {\n        this.modalController.dismiss({\n          delete: true\n        });\n      }\n    }\n    // Enable edit function if EDIT button is clicked OR\n    // Save edit diary and disable edit function\n    editDiary() {\n      if (this.edit) {\n        this.edit = false;\n        this.editButton = \"SAVE\";\n      } else {\n        this.edit = true;\n        this.editButton = \"EDIT\";\n      }\n    }\n    // Open map to show location saved in this diary\n    openMap() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const modal = yield _this.modalController.create({\n          component: MappingPage,\n          componentProps: {\n            place: _this.place,\n            lat: _this.lat,\n            long: _this.long\n          }\n        });\n        modal.onDidDismiss().then(results => {\n          _this.place = results.data.place;\n          _this.lat = results.data.lat;\n          _this.long = results.data.long;\n        });\n        return modal.present();\n      })();\n    }\n  }\n  _class = ShowDiaryPage;\n  _class.ɵfac = function ShowDiaryPage_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.NavParams), i0.ɵɵdirectiveInject(i1.ModalController));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-show-diary\"]],\n    decls: 27,\n    vars: 9,\n    consts: [[\"mode\", \"ios\"], [\"slot\", \"start\", \"fill\", \"clear\", 3, \"click\"], [\"name\", \"arrow-back-outline\"], [\"position\", \"stacked\", \"mode\", \"ios\", 2, \"font-size\", \"17px\"], [\"disabled\", \"true\", \"min\", \"0\", \"max\", \"10\", \"snaps\", \"true\", \"ticks\", \"true\", \"color\", \"primary\", \"value\", \"mood\", 3, \"ngModel\", \"ngModelChange\"], [\"size\", \"medium\", \"slot\", \"start\", \"name\", \"sad-outline\"], [\"size\", \"medium\", \"slot\", \"end\", \"name\", \"happy-outline\"], [\"name\", \"footsteps-outline\", 2, \"padding-right\", \"0.5em\", 3, \"click\"], [\"color\", \"grey\"], [\"inputmode\", \"text\", \"spellcheck\", \"true\", \"placeholder\", \"Hey! How was your day?\", \"autogrow\", \"true\", 3, \"ngModel\", \"readonly\", \"ngModelChange\"], [\"id\", \"preview\", 2, \"list-style-type\", \"none\", \"padding\", \"0.5em\"], [\"position\", \"bottom\"], [\"slot\", \"start\", \"fill\", \"clear\", \"size\", \"medium\", 3, \"click\"], [\"slot\", \"end\", \"fill\", \"clear\", \"size\", \"medium\", 3, \"click\"]],\n    template: function ShowDiaryPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\", 0);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ion-button\", 1);\n        i0.ɵɵlistener(\"click\", function ShowDiaryPage_Template_ion_button_click_5_listener() {\n          return ctx.saveEditedDiary();\n        });\n        i0.ɵɵelement(6, \"ion-icon\", 2);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-item\")(9, \"ion-label\", 3);\n        i0.ɵɵtext(10, \"This Day's Mood\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ion-range\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function ShowDiaryPage_Template_ion_range_ngModelChange_11_listener($event) {\n          return ctx.mood = $event;\n        });\n        i0.ɵɵelement(12, \"ion-icon\", 5)(13, \"ion-icon\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"ion-item\")(15, \"ion-icon\", 7);\n        i0.ɵɵlistener(\"click\", function ShowDiaryPage_Template_ion_icon_click_15_listener() {\n          return ctx.openMap();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"ion-text\", 8);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"ion-item\")(19, \"ion-textarea\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ShowDiaryPage_Template_ion_textarea_ngModelChange_19_listener($event) {\n          return ctx.diary = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"ion-item\");\n        i0.ɵɵelement(21, \"ul\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"ion-item\", 11)(23, \"ion-button\", 12);\n        i0.ɵɵlistener(\"click\", function ShowDiaryPage_Template_ion_button_click_23_listener() {\n          return ctx.deleteDiary();\n        });\n        i0.ɵɵtext(24, \"DELETE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-button\", 13);\n        i0.ɵɵlistener(\"click\", function ShowDiaryPage_Template_ion_button_click_25_listener() {\n          return ctx.editDiary();\n        });\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 6, ctx.date, \"dd MMM YYYY\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.mood);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.place);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"readonly\", ctx.edit);\n        i0.ɵɵproperty(\"ngModel\", ctx.diary);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.editButton);\n      }\n    },\n    dependencies: [i2.NgControlStatus, i2.NgModel, i3.DatePipe]\n  });\n  return ShowDiaryPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}